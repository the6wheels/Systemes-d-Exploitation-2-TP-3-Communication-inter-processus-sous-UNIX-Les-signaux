#include <stdio.h>
#include <unistd.h>
#include <stdlib.h>
#include <sys/types.h>
#include <sys/wait.h>
#include <signal.h>
void handlerInt ()
{
  //signal (SIGINT, handlerInt) ;
  printf ("reception d'un signal SIGINT\n"); 

 }
void handlerQuit ()
{
  //signal (SIGQUIT, handlerQuit) ;
  
  printf ("reception d'un signal SIGQUIT\n");
 }
int main()
{ 
  int i=0,x;
  int n=20;
  x=fork();
  switch (x)
  {
     case -1:
       printf("erreur");
     break;

     case 0:
       printf("je suis le fils et mon PID est %d est mon PPID est %d \n",getpid(),getppid());
       //sleep(4
       signal(SIGINT, handlerInt);
      

       sleep(4);
//printf("1ere etape");
       signal(SIGQUIT, handlerQuit);
       sleep(50);
       
       /*while(1)
       {
        printf("i=%d\n",i);
        i++;
        sleep(1);
        }*/
     break;

     default: 
       printf("\nje suis le pere et mon PID est %d est mon PPID est %d\n",getpid(),getppid());
       sleep(3);
       kill (x, SIGINT);
       sleep(3);  
       kill (x, SIGQUIT);
       
   }

   return 0;

}

